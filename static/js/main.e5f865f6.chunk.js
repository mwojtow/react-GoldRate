(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{12:function(e,t,a){e.exports=a(23)},17:function(e,t,a){},21:function(e,t,a){},23:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),s=a(9),i=a.n(s),c=(a(17),a(6)),l=a.n(c),o=a(7),u=a(10),m=a(11),p=a(1),d=a(2),h=a(4),v=a(3),b=a(5),D=(a(21),function(e){function t(){return Object(p.a)(this,t),Object(h.a)(this,Object(v.a)(t).apply(this,arguments))}return Object(b.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("p",null,"Wybierz zakres dat:"),r.a.createElement("input",{className:"input--date",type:"date",value:this.props.startDate,min:this.props.minApiDate,max:this.props.maxDate,onChange:this.props.onChange,name:"startDate"}),r.a.createElement("input",{className:"input--date",type:"date",value:this.props.endDate,min:this.props.startDate,max:this.props.maxDate,onChange:this.props.onChange,name:"endDate"}),r.a.createElement("button",{className:"btn",onClick:this.props.getGoldRate},"Pobierz"))}}]),t}(n.Component)),f=function(e){function t(){return Object(p.a)(this,t),Object(h.a)(this,Object(v.a)(t).apply(this,arguments))}return Object(b.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"sort__box"},r.a.createElement("span",null,"sortowanie"),r.a.createElement("button",{className:"btn",onClick:this.props.sortByDate},"DATA"),r.a.createElement("button",{className:"btn",onClick:this.props.sortByPrice},"CENA"))}}]),t}(n.Component),E=function(e){function t(){return Object(p.a)(this,t),Object(h.a)(this,Object(v.a)(t).apply(this,arguments))}return Object(b.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){return r.a.createElement("table",null,r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"DATA"),r.a.createElement("th",null,"CENA (z\u0142)"))),r.a.createElement("tbody",null,this.props.dataRows))}}]),t}(n.Component),g=function(e){function t(){return Object(p.a)(this,t),Object(h.a)(this,Object(v.a)(t).apply(this,arguments))}return Object(b.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"value__container"},this.props.maxValue&&r.a.createElement("div",{className:"value__box"},r.a.createElement("div",{className:"value value__header"},"MAX"),r.a.createElement("div",{className:"value value__price"},this.props.maxValue," z\u0142"),r.a.createElement("div",{className:"value value__date"},this.props.maxValueDate)),this.props.minValue&&r.a.createElement("div",{className:"value__box"},r.a.createElement("div",{className:"value value__header"},"MIN"),r.a.createElement("div",{className:"value value__price"},this.props.minValue," z\u0142"),r.a.createElement("div",{className:"value value__date"},this.props.minValueDate)),this.props.median&&r.a.createElement("div",{className:"value__box"},r.a.createElement("div",{className:"value value__header"},"MEDIANA"),r.a.createElement("div",{className:"value value__price"},this.props.median," z\u0142")))}}]),t}(n.Component),y=function(e){function t(){var e;return Object(p.a)(this,t),(e=Object(h.a)(this,Object(v.a)(t).call(this))).onChange=function(t){e.setState(Object(m.a)({},t.target.name,t.target.value))},e.getGoldRate=function(){var t=Object(u.a)(l.a.mark(function t(a){var n,r,s,i,c,u,m,p,d,h,v;return l.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(a.preventDefault(),n=e.state,r=n.startDate,!((s=n.endDate)<r)){t.next=6;break}e.setState({error:"B\u0142\u0119dny zakres dat!",dane:[],maxValue:"",minValue:"",median:""}),t.next=20;break;case 6:return t.next=8,fetch("http://api.nbp.pl/api/cenyzlota/".concat(r,"/").concat(s,"/"));case 8:return i=t.sent,t.next=11,i.json();case 11:c=t.sent,u=Math.max.apply(Math,Object(o.a)(c.map(function(e){return e.cena}))),m=c.find(function(e){return e.cena===u}),p=Math.min.apply(Math,Object(o.a)(c.map(function(e){return e.cena}))),d=c.find(function(e){return e.cena===p}),h=function(e){e.sort(function(e,t){return e.cena-t.cena});var t=e.length/2;return t%1?e[t-.5].cena:(e[t-1].cena+e[t].cena)/2}(c).toFixed(2),v=c.sort(function(e,t){return new Date(e.data).getTime()>new Date(t.data).getTime()?1:-1}),e.setState({dane:v,maxValue:u,minValue:p,maxValueDate:m.data,minValueDate:d.data,median:h,error:""});case 20:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}(),e.state={dane:[],startDate:"",endDate:"",maxDate:(new Date).toJSON().slice(0,10),sortedPrice:[],sortedDate:[],togglePrice:!1,toggleDate:!1,maxValue:"",maxValueDate:"",minValue:"",minValueDate:"",median:"",error:""},e}return Object(b.a)(t,e),Object(d.a)(t,[{key:"sortByPrice",value:function(e){var t=this.state.togglePrice,a=e.sort(function(e,a){return t?e.cena>a.cena?1:-1:e.cena<a.cena?1:-1});this.setState({dane:a,togglePrice:!t})}},{key:"sortByDate",value:function(e){var t=this.state.toggleDate,a=e.sort(function(e,a){var n=new Date(e.data).getTime(),r=new Date(a.data).getTime();return t?n>r?1:-1:n<r?1:-1});this.setState({dane:a,toggleDate:!t})}},{key:"render",value:function(){var e=this,t=new Date;t.setMonth(t.getMonth()-3),t=t.toJSON().slice(0,10);var a=this.state.dane.map(function(e,t){return r.a.createElement("tr",{key:t},r.a.createElement("td",null,e.data),r.a.createElement("td",null,e.cena))});return r.a.createElement("div",{className:"App"},r.a.createElement("header",{className:"App-header"},"Gold rate application"),r.a.createElement("div",{className:"App-body"},r.a.createElement(D,{startDate:this.state.startDate,minApiDate:t,maxDate:this.state.maxDate,onChange:this.onChange,endDate:this.state.endDate,getGoldRate:this.getGoldRate}),0!==this.state.dane.length&&r.a.createElement("div",null,r.a.createElement(f,{sortByDate:function(){return e.sortByDate(e.state.dane)},sortByPrice:function(){return e.sortByPrice(e.state.dane)}}),r.a.createElement(E,{dataRows:a})),this.state.error&&r.a.createElement("p",{className:"error__msg"},this.state.error),r.a.createElement(g,{maxValue:this.state.maxValue,maxValueDate:this.state.maxValueDate,minValue:this.state.minValue,minValueDate:this.state.minValueDate,median:this.state.median})))}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(r.a.createElement(y,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[12,2,1]]]);
//# sourceMappingURL=main.e5f865f6.chunk.js.map